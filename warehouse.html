<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n L√Ω Kho - Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb;
            color: #1f2937;
        }

        .file-input {
            opacity: 0;
            position: absolute;
            z-index: -1;
        }

        .modal {
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-content {
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }

        .modal-visible .modal-content {
            transform: translateY(0);
        }

        /* ƒê·∫£m b·∫£o h1 trong sidebar c√≥ m√†u ƒë·ªè */
        h1 {
            color: #dc2626;
            /* red-600 c·ªßa Tailwind */
        }
    </style>
</head>

<body class="bg-gray-100 flex flex-col font-sans">
    <header class="w-full bg-white shadow-lg p-3 border-b border-gray-200">
        <nav class="flex space-x-6 text-sm font-medium">
            <a href="warehouse.html" class="text-red-600 border-b-2 border-red-600 pb-1">üì¶ Kho h√†ng</a>
            <a href="import.html" class="text-gray-700 hover:text-red-500 pb-1">üì• Nh·∫≠p h√†ng</a>
            <a href="NCC.html" class="text-gray-700 hover:text-red-500 pb-1">üè† Nh√† cung c·∫•p</a>
            <a href="cost.html" class="text-gray-700 hover:text-red-500 pb-1">üí∞ Thi·∫øt l·∫≠p gi√°</a>
        </nav>
    </header>

    <div class="flex flex-1">
        <aside class="w-64 bg-white h-screen shadow-2xl p-4">
            <h2 class="text-3xl font-bold text-red-600 mb-8 text-center py-4">AnhEm Motor</h2>

            <nav class="w-full">
                <ul class="space-y-4">
                    <li>
                        <a href="index.html"
                            class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-gray-800">
                            <i class="fa-solid fa-house w-6 text-xl text-center text-red-600"></i>
                            <span>Trang ch·ªß</span>
                        </a>
                    </li>
                    <li>
                        <a href="report.html"
                            class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-gray-800">
                            <i class="fa-solid fa-chart-line w-6 text-xl text-center text-red-600"></i>
                            <span>B√°o c√°o</span>
                        </a>
                    </li>
                    <li>
                        <a href="revenue.html"
                            class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-gray-800">
                            <i class="fa-solid fa-chart-pie w-6 text-xl text-center text-red-600"></i>
                            <span>Ph√¢n T√≠ch Doanh Thu</span>
                        </a>
                    </li>
                    <li>
                        <a href="inventory.html"
                            class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-gray-800">
                            <i class="fa-solid fa-box w-6 text-xl text-center text-red-600"></i>
                            <span>B√°o C√°o S·∫£n Ph·∫©m</span>
                        </a>
                    </li>
                    <li>
                        <a href="quanlykh.html"
                            class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-gray-800">
                            <i class="fa-solid fa-users w-6 text-xl text-center text-red-700"></i>
                            <span>Qu·∫£n l√Ω Kh√°ch H√†ng</span>
                        </a>
                    </li>
                    <li>
                        <a href="order1.html"
                            class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-gray-800">
                            <i class="fa-solid fa-cart-shopping w-6 text-xl text-center text-red-600"></i>
                            <span>Qu·∫£n l√Ω ƒê∆°n H√†ng</span>
                        </a>
                    </li>
                    <li>
                        <a href="nhaphang.html"
                            class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-gray-800">
                            <i class="fa-solid fa-truck-ramp-box w-6 text-xl text-center text-red-600"></i>
                            <span>Qu·∫£n l√Ω Nh·∫≠p H√†ng</span>
                        </a>
                    </li>
                    <li>
                        <a href="quanlysp.html"
                            class="flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-gray-800">
                            <i class="fa-solid fa-motorcycle w-6 text-xl text-center text-red-600"></i>
                            <span>Qu·∫£n l√Ω S·∫£n Ph·∫©m</span>
                        </a>
                    </li>
                    <li>
                        <a href="warehouse.html"
                            class="flex items-center space-x-3 p-3 rounded-lg bg-red-100 text-red-700 transition-colors duration-200 ">
                            <i class="fa-solid fa-box w-6 text-xl text-center text-red-600"></i>
                            <span>Qu·∫£n l√Ω Kho</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <main class="flex-1 p-8 bg-white">
            <h1 class="text-3xl font-bold mb-6 text-red-600">üì¶ Qu·∫£n l√Ω kho h√†ng</h1>

            <div class="flex justify-between items-center mb-6 flex-wrap gap-3">
                <div class="flex flex-wrap items-center gap-2">
                    <input id="search" type="text" placeholder="üîç T√¨m ki·∫øm t√™n, danh m·ª•c..."
                        class="border p-2 rounded">
                    <select id="filterDanhMuc" class="border p-2 rounded">
                        <option value="">-- Danh m·ª•c --</option>
                        <option value="Xe m√°y">Xe m√°y</option>
                        <option value="Ph·ª• t√πng">Ph·ª• t√πng</option>
                        <option value="Trang ph·ª•c">Trang ph·ª•c</option>
                        <option value="H√≥a ch·∫•t">H√≥a ch·∫•t</option>
                    </select>
                    <select id="filterTrangThai" class="border p-2 rounded">
                        <option value="">-- Tr·∫°ng th√°i --</option>
                        <option value="C√≤n h√†ng">C√≤n h√†ng</option>
                        <option value="S·∫Øp h·∫øt h√†ng">S·∫Øp h·∫øt h√†ng</option>
                        <option value="H·∫øt h√†ng">H·∫øt h√†ng</option>
                    </select>
                    <select id="filterNhaCungCap" class="border p-2 rounded">
                        <option value="">-- Nh√† cung c·∫•p --</option>
                        <option value="Honda Vi·ªát Nam">Honda Vi·ªát Nam</option>
                        <option value="Yamaha Accessories">Yamaha Accessories</option>
                        <option value="Michelin">Michelin</option>
                        <option value="Castrol">Castrol</option>
                        <option value="Protec">Protec</option>
                        <option value="Motul Vi·ªát Nam">Motul Vi·ªát Nam</option>
                        <option value="GS Battery Vi·ªát Nam">GS Battery Vi·ªát Nam</option>
                    </select>
                    <button onclick="renderTable()" class="bg-gray-300 rounded p-2 hover:bg-gray-400">L·ªçc</button>
                </div>
                <button onclick="window.location.href='add_item.html'"
                    class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">
                    ‚ûï Th√™m s·∫£n ph·∫©m
                </button>
            </div>

            <div class="overflow-x-auto">
                <table class="w-full border-collapse border text-sm">
                    <thead class="bg-red-100">
                        <tr>
                            <th class="border p-2">M√£ ID</th>
                            <th class="border p-2">T√™n m·∫∑t h√†ng</th>
                            <th class="border p-2">Ng√†y nh·∫≠p g·∫ßn nh·∫•t</th>
                            <th class="border p-2">Danh m·ª•c</th>
                            <th class="border p-2">T·ªìn kho</th>
                            <th class="border p-2">ƒê√£ ƒë·∫∑t</th>
                            <th class="border p-2">Hi·ªán c√≥</th>
                            <th class="border p-2">Tr·∫°ng th√°i</th>
                            <th class="border p-2">Gi√° b√°n</th>
                            <th class="border p-2">Nh√† cung c·∫•p g·∫ßn nh·∫•t</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
        </main>
    </div>

    <script>
        // ‚úÖ D·ªØ li·ªáu m·∫´u
        const duLieuMau = [
            { id: "K001", ngayNhap: "2025-09-15", matHang: "Honda SH 150i", danhMuc: "Xe m√°y", tonDau: 10, ton: 6, toiThieu: 3, trangThai: "C√≤n h√†ng", giaBan: 95000000, giaVon: 88000000, loiNhuan: 8, nhaCungCap: "Honda Vi·ªát Nam" },
            { id: "K002", ngayNhap: "2025-09-20", matHang: "M≈© b·∫£o hi·ªÉm fullface", danhMuc: "Trang ph·ª•c", tonDau: 20, ton: 4, toiThieu: 5, trangThai: "S·∫Øp h·∫øt h√†ng", giaBan: 1200000, giaVon: 900000, loiNhuan: 33, nhaCungCap: "Protec" },
            { id: "K003", ngayNhap: "2025-10-01", matHang: "Nh·ªõt xe tay ga 1L", danhMuc: "H√≥a ch·∫•t", tonDau: 50, ton: 15, toiThieu: 10, trangThai: "C√≤n h√†ng", giaBan: 180000, giaVon: 120000, loiNhuan: 50, nhaCungCap: "Castrol" },
            { id: "K004", ngayNhap: "2025-09-28", matHang: "L·ªëp Michelin 70/90-17", danhMuc: "Ph·ª• t√πng", tonDau: 30, ton: 3, toiThieu: 5, trangThai: "H·∫øt h√†ng", giaBan: 850000, giaVon: 720000, loiNhuan: 18, nhaCungCap: "Michelin" },
            { id: "K005", ngayNhap: "2025-10-05", matHang: "√Åo kho√°c moto ch·ªëng n∆∞·ªõc", danhMuc: "Trang ph·ª•c", tonDau: 15, ton: 10, toiThieu: 5, trangThai: "C√≤n h√†ng", giaBan: 2200000, giaVon: 1700000, loiNhuan: 29, nhaCungCap: "Yamaha Accessories" },
            { id: "K006", ngayNhap: "2025-09-25", matHang: "D·∫ßu nh·ªõt Motul 7100", danhMuc: "H√≥a ch·∫•t", tonDau: 40, ton: 8, toiThieu: 10, trangThai: "S·∫Øp h·∫øt h√†ng", giaBan: 290000, giaVon: 250000, loiNhuan: 16, nhaCungCap: "Motul Vi·ªát Nam" },
            { id: "K007", ngayNhap: "2025-09-21", matHang: "·∫Æc quy GS GTZ5S", danhMuc: "Ph·ª• t√πng", tonDau: 25, ton: 0, toiThieu: 3, trangThai: "H·∫øt h√†ng", giaBan: 390000, giaVon: 320000, loiNhuan: 22, nhaCungCap: "GS Battery Vi·ªát Nam" },
            { id: "K008", ngayNhap: "2025-09-30", matHang: "GƒÉng tay b·∫£o h·ªô Alpinestars", danhMuc: "Trang ph·ª•c", tonDau: 10, ton: 5, toiThieu: 3, trangThai: "C√≤n h√†ng", giaBan: 850000, giaVon: 700000, loiNhuan: 21, nhaCungCap: "Yamaha Accessories" }
        ];

        // ‚úÖ Ghi d·ªØ li·ªáu m·∫´u v√†o LocalStorage n·∫øu tr·ªëng
        if (!localStorage.getItem("kho") || JSON.parse(localStorage.getItem("kho")).length === 0) {
            localStorage.setItem("kho", JSON.stringify(duLieuMau));
        }

        let kho = JSON.parse(localStorage.getItem("kho")) || [];

        function deleteItem(id) {
            if (confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m n√†y kh√¥ng?")) {
                kho = kho.filter(item => item.id !== id);
                localStorage.setItem("kho", JSON.stringify(kho));
                renderTable();
            }
        }

        function renderTable() {
            const search = document.getElementById("search").value.toLowerCase();
            const filterDanhMuc = document.getElementById("filterDanhMuc").value;
            const filterTrangThai = document.getElementById("filterTrangThai").value;
            const filterNhaCungCap = document.getElementById("filterNhaCungCap").value;
            const body = document.getElementById("tableBody");
            body.innerHTML = "";

            kho.filter(k =>
                (!search || k.matHang.toLowerCase().includes(search) || k.danhMuc.toLowerCase().includes(search)) &&
                (!filterDanhMuc || k.danhMuc === filterDanhMuc) &&
                (!filterTrangThai || k.trangThai === filterTrangThai) &&
                (!filterNhaCungCap || k.nhaCungCap === filterNhaCungCap)
            ).forEach(k => {
                const row = document.createElement("tr");
                const rowClass = k.ton <= k.toiThieu ? "bg-red-50" : "";
                row.className = rowClass;

                // T√≠nh to√°n s·ªë l∆∞·ª£ng Hi·ªán c√≥
                const hienCo = k.tonDau - k.ton;

                row.innerHTML = `
                  <td class="border p-2">${k.id}</td>
                  <td class="border p-2">${k.matHang}</td>
                  <td class="border p-2">${k.ngayNhap}</td>
                  <td class="border p-2">${k.danhMuc}</td>
                  <td class="border p-2">${k.tonDau}</td>
                  <td class="border p-2">${k.ton}</td>
                  <td class="border p-2">${hienCo}</td>
                  <td class="border p-2">${k.trangThai}</td>
                  <td class="border p-2">${k.giaBan.toLocaleString()}</td>
                  <td class="border p-2">${k.nhaCungCap}</td>
                `;
                body.appendChild(row);
            });
        }

        renderTable();
    </script>
</body>

</html>
