<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Honda Air Blade 160 - Chi Tiết Sản Phẩm</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/png" href="image/icon.png">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to bottom, #f9fafb, #e9ecef);
            color: #393939;
        }

        .text-honda-red {
            color: #de0000;
        }

        .bg-honda-red {
            background-color: #de0000;
        }

        .main-header {
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            width: 100%;
        }

        .header-container {
            max-width: 1280px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            font-size: 1.5rem;
            color: #393939;
            text-decoration: none;
        }


        .logo img {
            height: 53px;
        }

        .main-nav {
            display: flex;
        }

        .main-nav ul {
            display: flex;
            gap: 30px;
            list-style: none;
            margin: 0;
            padding: 0;
            align-items: center;
        }

        .main-nav a {
            text-decoration: none;
            color: #393939;
            font-weight: 500;
            position: relative;
            padding: 8px 4px;
            transition: color 0.3s ease;
            font-size: 16px;
        }

        .main-nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            background-color: #de0000;
            transition: width 0.3s ease;
        }

        .main-nav a:hover {
            color: #de0000;
        }

        .main-nav a:hover::after {
            width: 100%;
        }

        .header-icons {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .search-icon,
        .cart-icon {
            color: #393939;
            font-size: 20px;
            cursor: pointer;
            transition: color 0.3s ease;
            position: relative;
        }

        .search-icon:hover,
        .cart-icon:hover {
            color: #de0000;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: #de0000;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.7rem;
            min-width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #393939;
        }

        .mobile-nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }

        .mobile-nav {
            position: fixed;
            top: 0;
            left: -300px;
            width: 250px;
            height: 100%;
            background-color: #fff;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);
            transition: left 0.3s ease;
            z-index: 1000;
            display: none;
        }

        .mobile-nav.open {
            left: 0;
        }

        .mobile-nav-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
        }

        .mobile-nav-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #393939;
        }

        .mobile-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .mobile-nav li a {
            display: block;
            padding: 1rem;
            text-decoration: none;
            color: #393939;
            border-bottom: 1px solid #eee;
        }

        @media (max-width: 768px) {
            .main-nav {
                display: none;
            }

            .mobile-menu-toggle,
            .mobile-nav {
                display: block;
            }

            .header-container {
                justify-content: space-between;
            }

            .header-icons {
                gap: 15px;
            }
        }

        .avatar-circle {
            width: 55px;
            border-radius: 82%;
            object-fit: cover;
            border: 2px solid #ddd;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .tab-button.active {
            border-bottom: 3px solid #dc2626;
            color: #dc2626;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 50;
        }

        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
        }

        .modal-content img {
            display: block;
            margin: auto;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        footer {
            background: linear-gradient(135deg, #333333, #34495e);
            color: white;
            padding: 60px 0 20px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-col h3 {
            color: #de0000;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .footer-col {
            margin-left: 50px;
        }

        .footer-col p,
        .footer-col ul li a {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.8;
            transition: color 0.3s;
        }

        .footer-col ul li a:hover {
            color: white;
        }

        .social-links a {
            color: white;
            margin-right: 15px;
            font-size: 1.5rem;
            transition: color 0.3s;
        }

        .social-links a:hover {
            color: #de0000;
        }

        .copyright {
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 20px;
        }

        .cart-modal-footer .button-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }

        .cart-modal-footer .button-group button,
        .cart-modal-footer .button-group a {
            flex: 1;
        }

        .main-container {
            display: flex;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }

        .modal-close:hover,
        .modal-close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }

        /* Cart Modal Styles */
        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4);
            z-index: 1040;
            transition: opacity 0.3s ease;
        }

        .cart-modal-content {
            position: fixed;
            top: 0;
            right: 0;
            width: 400px;
            max-width: 90vw;
            height: 100%;
            background-color: #ffffff;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            transform: translateX(100%);
            transition: transform 0.3s ease-out;
            display: flex;
            flex-direction: column;
            margin: auto;
            padding: 0;
            border-radius: 0;
        }

        body.cart-sidebar-open .cart-modal {
            display: block;
        }

        body.cart-sidebar-open .cart-modal-content {
            transform: translateX(0);
        }

        .cart-modal .cart-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            flex-shrink: 0;
        }

        .cart-modal .cart-modal-header h2 {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 0;
        }

        .cart-modal .close-cart-modal {
            float: none;
            font-size: 1.75rem;
            opacity: 0.7;
            background: none;
            border: none;
            cursor: pointer;
        }

        .cart-modal .close-cart-modal:hover {
            opacity: 1;
        }

        .cart-modal .cart-modal-body {
            flex-grow: 1;
            overflow-y: auto;
            padding: 1.5rem;
        }

        .cart-modal .cart-modal-footer {
            padding: 1.5rem;
            border-top: 1px solid #e5e7eb;
            background-color: #f9fafb;
            flex-shrink: 0;
        }

        .cart-modal-footer .button-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            margin-top: 1rem;
        }

        .cart-modal-footer .button-group button,
        .cart-modal-footer .button-group a {
            flex: 1;
        }

        .btn-continue-shopping {
            background-color: #6b7280;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        .btn-continue-shopping:hover {
            background-color: #4b5563;
        }

        .cart-btn {
            background-color: #de0000;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            text-align: center;
            transition: background-color 0.3s;
            text-decoration: none;
            display: inline-block;
            font-weight: 600;
        }

        .cart-btn:hover {
            background-color: #b30000;
        }

        .cart-modal-footer h3 {
            font-size: 1.125rem;
            margin: 0;
            display: flex;
            justify-content: space-between;
        }

        #full-cart-items img {
            width: 80px;
            height: 80px;
        }

        .cart-counter {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #dc2626;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .gallery-item {
            height: 200px;
            object-fit: cover;
            width: 100%;
        }

        #gallery-content .grid {
            grid-auto-rows: 1fr;
        }

        /* === NEW STYLES === */
        .color-swatch {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #e5e7eb;
            transition: transform 0.2s, border-color 0.2s;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .color-swatch:hover {
            transform: scale(1.1);
        }

        .color-swatch.active {
            border-color: #de0000;
            box-shadow: 0 0 0 3px rgba(222, 0, 0, 0.3);
        }

        .warning-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1050;
        }

        .warning-modal-content {
            background: white;
            padding: 2.5rem;
            border-radius: 1rem;
            text-align: center;
            max-width: 400px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transform: scale(0.95);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .warning-modal.show .warning-modal-content {
            transform: scale(1);
            opacity: 1;
        }
    </style>
</head>

<body>
    <!-- HEADER -->
    <header class="main-header">
        <div class="header-container">
            <a href="#" class="logo">
                <img src="./image/logo.png" alt="Logo" class="avatar-circle">
                <span>AnhEm Motor</span>
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Trang Chủ</a></li>
                    <li><a href="listings.html">Sản Phẩm</a></li>
                    <li><a href="about.html">Giới Thiệu</a></li>
                    <li><a href="news.html">Tin Tức-Sự Kiện</a></li>
                    <li><a href="promotion.html">Khuyến Mãi</a></li>
                    <li><a href="contact.html">Liên Hệ</a></li>
                    <li><a href="service.html">Dịch Vụ</a></li>
                </ul>
            </nav>
            <div class="header-icons">
                <i class="fa-solid fa-magnifying-glass search-icon"></i>
                <div class="cart-icon" id="cart-btn">
                    <i class="fa-solid fa-shopping-cart"></i>
                    <span id="cart-counter" class="cart-count hidden">0</span>
                </div>
                <button class="mobile-menu-toggle">
                    <i class="fa-solid fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <div class="mobile-nav-overlay"></div>
    <nav class="mobile-nav">
        <div class="mobile-nav-header">
            <span>Menu</span>
            <button class="mobile-nav-close">
                <i class="fa-solid fa-times"></i>
            </button>
        </div>
        <ul>
            <li><a href="index.html">Trang Chủ</a></li>
            <li><a href="listings.html">Sản Phẩm</a></li>
            <li><a href="about.html">Giới Thiệu</a></li>
            <li><a href="news.html">Tin Tức-Sự Kiện</a></li>
            <li><a href="promotion.html">Khuyến Mãi</a></li>
            <li><a href="contact.html">Liên Hệ</a></li>
            <li><a href="service.html">Dịch Vụ</a></li>
        </ul>
    </nav>

    <header class="bg-white shadow-md sticky top-0 z-10">
        <div class="max-w-6xl mx-auto flex items-center justify-between px-6 py-4">
            <a href="product.html" class="flex items-center text-gray-700 hover:text-red-600 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd"
                        d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"
                        clip-rule="evenodd" />
                </svg>
                Quay lại trang sản phẩm
            </a>
            <h1 class="text-lg font-bold text-gray-800">Honda Air Blade 160</h1>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 py-10">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-start">
            <!-- Product Image and Color Selector -->
            <div class="flex flex-col items-center">
                <div class="flex justify-center mb-6">
                    <img id="product-image" src="moto/airblade160.png" alt="Honda Air Blade 160 - Trắng"
                        class="rounded-2xl shadow-xl max-w-full h-auto">
                </div>
                <div class="mb-4">
                    <span class="font-semibold text-gray-700">Màu sắc:</span>
                    <span id="color-name" class="font-bold text-gray-900">Trắng</span>
                </div>
                <div id="color-selector" class="flex justify-center items-center gap-4">
                    <!-- Color swatches will be inserted here by JS -->
                </div>
            </div>

            <!-- Product Details -->
            <div class="bg-white rounded-2xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-3">Honda Air Blade 160</h2>
                <p class="text-gray-500 text-lg mb-5">Phong cách adventure, vượt mọi giới hạn.</p>
                <div class="mb-6">
                    <span class="text-4xl font-extrabold text-red-600">42.012.000 VNĐ</span>
                </div>
                <p class="text-gray-700 leading-relaxed mb-6">
                    Honda Air Blade 160 là mẫu xe tay ga thể thao, mạnh mẽ với động cơ 160cc eSP+ cho khả năng vận hành
                    ấn tượng và tiết kiệm nhiên liệu. Xe được trang bị phanh ABS, khóa thông minh Smart Key cùng thiết
                    kế hiện đại, cá tính, mang đến sự an toàn, tiện nghi và phong cách cho người dùng.
                </p>
                <div class="flex items-center space-x-4 mb-6">
                    <label for="quantity-input" class="font-semibold text-gray-700">Số lượng:</label>
                    <div class="flex items-center">
                        <button id="decrease-quantity"
                            class="w-10 h-10 flex items-center justify-center bg-gray-200 rounded-l-lg hover:bg-gray-300 transition">-</button>
                        <input id="quantity-input" type="text" value="1" readonly
                            class="w-16 h-10 text-center border-t border-b border-gray-200 font-bold bg-white">
                        <button id="increase-quantity"
                            class="w-10 h-10 flex items-center justify-center bg-gray-200 rounded-r-lg hover:bg-gray-300 transition">+</button>
                    </div>
                </div>
                <button id="add-to-cart-btn"
                    class="block w-full text-center bg-red-600 text-white font-bold py-3 rounded-xl shadow-md hover:bg-red-700 transition">
                    Thêm vào giỏ hàng
                </button>
            </div>
        </div>

        <div class="mt-12 bg-white rounded-2xl shadow-lg p-8">
            <div class="flex border-b mb-6">
                <button id="spec-tab" class="tab-button active px-6 py-3 font-semibold text-gray-600">Thông số kỹ
                    thuật</button>
                <button id="gallery-tab" class="tab-button px-6 py-3 font-semibold text-gray-600">Bộ sưu tập</button>
            </div>

            <div id="spec-content" class="tab-content active">
                <div class="overflow-x-auto">
                    <table class="min-w-full border-collapse">
                        <tbody>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Khối lượng bản thân</th>
                                <td class="py-3">114 kg</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Kích thước (Dài x Rộng x Cao)
                                </th>
                                <td class="py-3">1.890 x 686 x 1.116 mm</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Khoảng cách trục bánh xe</th>
                                <td class="py-3">1.286 mm</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Độ cao yên</th>
                                <td class="py-3">775 mm</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Khoảng sáng gầm xe</th>
                                <td class="py-3">142 mm</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Dung tích bình xăng</th>
                                <td class="py-3">4,4 lít</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Kích cỡ lốp trước/sau</th>
                                <td class="py-3">Trước: 90/80 <br> Sau: 100/80</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Phuộc trước</th>
                                <td class="py-3">Ống lồng, giảm chấn thủy lực</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Phuộc sau</th>
                                <td class="py-3">Lò xo trụ, giảm chấn thủy lực</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Loại động cơ</th>
                                <td class="py-3">Xăng, 4 kỳ, 1 xy-lanh, làm mát bằng chất lỏng</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Công suất tối đa</th>
                                <td class="py-3">11,2 kW / 8.000 vòng/phút</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Moment cực đại</th>
                                <td class="py-3">14,6 Nm / 6.500 vòng/phút</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Dung tích xy-lanh</th>
                                <td class="py-3">156,9 cm³</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Đường kính x Hành trình piston
                                </th>
                                <td class="py-3">60,0 mm x 55,5 mm</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Tỷ số nén</th>
                                <td class="py-3">12 : 1</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Dung tích nhớt máy</th>
                                <td class="py-3">0,9 lít khi rã máy <br> 0,8 lít khi thay nhớt</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Mức tiêu thụ nhiên liệu</th>
                                <td class="py-3">2,19 lít/100km</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Loại truyền động</th>
                                <td class="py-3">Dây đai, biến thiên vô cấp</td>
                            </tr>
                            <tr>
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Hệ thống khởi động</th>
                                <td class="py-3">Điện</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="gallery-content" class="tab-content">
                <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
                    <img src="moto/airblade/1.jpg"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 1">
                    <img src="moto/airblade/2.jpg"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 2">
                    <img src="moto/airblade/3.jpg"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 3">
                    <img src="moto/airblade/4.jpg"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 4">
                    <img src="moto/airblade/5.jpg"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 5">
                    <img src="moto/airblade/6.jpg"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 6">
                </div>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h3>Thông Tin Liên Hệ</h3>
                    <p><i class="fas fa-map-marker-alt"></i> 193 Đỗ Văn Thi, Phường Trảng Biên, TP. Biên Hòa, Tỉnh Đồng
                        Nai</p>
                    <p><i class="fas fa-phone"></i> 012 3456 7890</p>
                    <p><i class="fas fa-envelope"></i> anhemmotor@gmail.com</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Sản Phẩm</h3>
                    <ul>
                        <li><a href="#">Xe máy Honda</a></li>
                        <li><a href="#">Xe máy Yamaha</a></li>
                        <li><a href="#">Xe máy Suzuki</a></li>
                        <li><a href="#">Xe máy Kawasaki</a></li>
                        <li><a href="#">Phụ kiện xe máy</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Dịch Vụ</h3>
                    <ul>
                        <li><a href="#">Bảo dưỡng định kỳ</a></li>
                        <li><a href="#">Sửa chữa xe máy</a></li>
                        <li><a href="#">Đăng ký xe</a></li>
                        <li><a href="#">Bảo hiểm xe máy</a></li>
                        <li><a href="#">Tư vấn mua xe</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Hỗ Trợ</h3>
                    <ul>
                        <li><a href="#">Chính sách bảo hành</a></li>
                        <li><a href="#">Hướng dẫn sử dụng</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Liên hệ hỗ trợ</a></li>
                        <li><a href="#">Sitemap</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>© 2025 AnhEm Motor. Mọi quyền được bảo lưu. | Thiết kế bởi AnhEm Team</p>
            </div>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div id="cart-modal" class="cart-modal">
        <div class="cart-modal-content">
            <div class="cart-modal-header">
                <h2><i class="fas fa-shopping-cart"></i> Giỏ hàng</h2>
                <button class="close-cart-modal">&times;</button>
            </div>
            <div class="cart-modal-body">
                <div id="full-cart-items"></div>
            </div>
            <div class="cart-modal-footer">
                <h3>Tổng cộng: <span id="modal-total-amount">0 VNĐ</span></h3>
                <div class="button-group">
                    <button class="btn-continue-shopping">Tiếp tục mua sắm</button>
                    <a href="shoppingcart.html">
                        <button class="cart-btn view-cart">Xem giỏ hàng</button>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Modal -->
    <div id="image-modal" class="modal" onclick="closeModal()">
        <span class="modal-close" onclick="closeModal(event)">&times;</span>
        <div class="modal-content">
            <img id="modal-image" src="" alt="Full size image">
        </div>
    </div>

    <!-- Warning Modal -->
    <div id="warning-modal" class="warning-modal">
        <div class="warning-modal-content">
            <svg class="w-16 h-16 mx-auto mb-4 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z">
                </path>
            </svg>
            <h3 class="text-xl font-bold mb-2">Thông báo</h3>
            <p id="warning-message" class="text-gray-600 mb-6"></p>
            <button id="close-warning-modal"
                class="bg-red-600 text-white font-bold py-2 px-8 rounded-lg hover:bg-red-700 transition">Đã
                hiểu</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // DOM Elements
            const specTab = document.getElementById('spec-tab');
            const galleryTab = document.getElementById('gallery-tab');
            const specContent = document.getElementById('spec-content');
            const galleryContent = document.getElementById('gallery-content');
            const modal = document.getElementById('image-modal');
            const modalImage = document.getElementById('modal-image');
            const galleryImages = document.querySelectorAll('#gallery-content img');
            const cartBtn = document.getElementById('cart-btn');
            const cartModal = document.getElementById('cart-modal');
            const cartOverlay = document.getElementById('cart-overlay');
            const closeCartBtn = document.getElementById('close-cart');
            const addToCartBtn = document.getElementById('add-to-cart-btn');
            const cartCounter = document.getElementById('cart-counter');
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');

            const fullCartItems = document.getElementById('full-cart-items');
            const modalTotalAmount = document.getElementById('modal-total-amount');

            const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
            const mobileNav = document.querySelector('.mobile-nav');
            const mobileNavOverlay = document.querySelector('.mobile-nav-overlay');
            const mobileNavClose = document.querySelector('.mobile-nav-close');
            const productImage = document.getElementById('product-image');
            const colorSelector = document.getElementById('color-selector');
            const colorNameSpan = document.getElementById('color-name');
            const quantityInput = document.getElementById('quantity-input');
            const increaseQtyBtn = document.getElementById('increase-quantity');
            const decreaseQtyBtn = document.getElementById('decrease-quantity');
            const warningModal = document.getElementById('warning-modal');
            const warningMessage = document.getElementById('warning-message');
            const closeWarningModalBtn = document.getElementById('close-warning-modal');

            // Product Data
            const colorOptions = {
                'black': { name: 'Đen', image: 'moto/airblade160.png', hex: '#000000' },
                'white': { name: 'Trắng', image: 'https://vnn-imgs-f.vgcloud.vn/2018/04/09/10/5-diem-yeu-cua-honda-air-blade-can-phai-biet-truoc-khi-quyet-dinh-moc-vi.jpg?width=0&s=6LtKqCEjLMFo5zcjaJRrTA', hex: '#FFFFFF' },
                'blue': { name: 'Xanh Dương', image: 'https://bizweb.dktcdn.net/100/523/203/products/160-db-xanh.jpg?v=1722678543003', hex: '#005a9e' },
                'gray': { name: 'Xám', image: 'https://hoabinhminhxemay.com/wp-content/uploads/2022/06/Air-Blade-125-phien-ban-Cao-Cap-mau-Bac-Do-Den.jpg', hex: '#808080' },
                'red': { name: 'Đỏ', image: 'https://headhongdac.com/upload/sanpham/large/air-blade-125--160-1719887444-aed33c.jpg', hex: '#b71c1c' },
            };
            const baseProduct = { name: 'Honda Air Blade 160', price: 42012000 };
            let selectedColor = 'black';

            // Cart persistence functions using cookies (matching adv350.html and product.html)
            function saveCartToMemory() {
                try {
                    const cartData = JSON.stringify(cart);
                    // Save to cookie with 7 days expiration
                    const expires = new Date();
                    expires.setTime(expires.getTime() + (7 * 24 * 60 * 60 * 1000));
                    document.cookie = `hondaCart=${encodeURIComponent(cartData)}; expires=${expires.toUTCString()}; path=/`;

                    // Also use backup methods
                    document.cartStorage = cartData;
                    window.name = cartData;
                } catch (error) {
                    console.log('Could not save cart data');
                }
            }

            function loadCartFromMemory() {
                try {
                    // Try to load from cookie first
                    const cookies = document.cookie.split(';');
                    for (let cookie of cookies) {
                        const [name, value] = cookie.trim().split('=');
                        if (name === 'hondaCart') {
                            const cartData = decodeURIComponent(value);
                            if (cartData && cartData.startsWith('[') && cartData.endsWith(']')) {
                                const parsedCart = JSON.parse(cartData);
                                if (Array.isArray(parsedCart)) {
                                    return parsedCart;
                                }
                            }
                        }
                    }

                    // Fallback to other methods
                    let cartData = document.cartStorage || window.name || null;
                    if (cartData && cartData.startsWith('[') && cartData.endsWith(']')) {
                        const parsedCart = JSON.parse(cartData);
                        if (Array.isArray(parsedCart)) {
                            return parsedCart;
                        }
                    }
                    return [];
                } catch (error) {
                    console.log('Could not load cart data');
                    return [];
                }
            }

            // Initialize cart from memory
            let cart = loadCartFromMemory() || [];
            function showTab(tab, content) {
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                tab.classList.add('active');
                content.classList.add('active');
            }

            function openModal(imageSrc) {
                modal.style.display = 'flex';
                modalImage.src = imageSrc;
            }

            function closeModal(event) {
                if (event) event.stopPropagation();
                modal.style.display = 'none';
            }

            function openCart() {
                const header = document.querySelector('.main-header');
                const cartModal = document.getElementById('cart-modal');
                const cartModalContent = cartModal.querySelector('.cart-modal-content');

                if (!header || !cartModal || !cartModalContent) {
                    console.error("Cart sidebar elements not found!");
                    return;
                }

                const headerHeight = header.offsetHeight;
                cartModalContent.style.top = `${headerHeight}px`;
                cartModalContent.style.height = `calc(100vh - ${headerHeight}px)`;

                document.body.classList.add('cart-sidebar-open');
            }

            function closeCart() {
                document.body.classList.remove('cart-sidebar-open');
            }

            function openMobileMenu() {
                mobileNav.classList.add('open');
                mobileNavOverlay.style.display = 'block';
            }

            function closeMobileMenu() {
                mobileNav.classList.remove('open');
                mobileNavOverlay.style.display = 'none';
            }

            function showWarningModal(message) {
                warningMessage.textContent = message;
                warningModal.style.display = 'flex';
                setTimeout(() => warningModal.classList.add('show'), 10);
            }

            function closeWarningModal() {
                warningModal.classList.remove('show');
                setTimeout(() => warningModal.style.display = 'none', 300);
            }

            function renderColorSwatches() {
                colorSelector.innerHTML = '';
                Object.keys(colorOptions).forEach(key => {
                    const option = colorOptions[key];
                    const swatch = document.createElement('div');
                    swatch.className = `color-swatch ${key === selectedColor ? 'active' : ''}`;
                    swatch.style.backgroundColor = option.hex;
                    swatch.dataset.color = key;
                    swatch.title = option.name;
                    colorSelector.appendChild(swatch);
                });
            }

            function selectColor(colorKey) {
                selectedColor = colorKey;
                const option = colorOptions[colorKey];
                productImage.src = option.image;
                productImage.alt = `${baseProduct.name} - ${option.name}`;
                colorNameSpan.textContent = option.name;
                renderColorSwatches();
            }

            function addToCart() {
                const quantityToAdd = parseInt(quantityInput.value);

                // Calculate total Air Blades across all colors in cart
                const totalAirBladesInCart = cart
                    .filter(item => item.name === baseProduct.name)
                    .reduce((sum, item) => sum + item.quantity, 0);

                if (totalAirBladesInCart + quantityToAdd > 3) {
                    showWarningModal('Số lượng sản phẩm vượt quá giới hạn cho phép (tối đa 3 sản phẩm). Vui lòng đến cửa hàng để mua trực tiếp.');
                    return;
                }

                const productToAdd = {
                    id: `airblade160-${selectedColor}`,
                    name: `${baseProduct.name} (${colorOptions[selectedColor].name})`,
                    price: baseProduct.price,
                    image: colorOptions[selectedColor].image,
                    color: colorOptions[selectedColor].name
                };

                const existingItem = cart.find(item => item.id === productToAdd.id);
                if (existingItem) {
                    existingItem.quantity += quantityToAdd;
                } else {
                    cart.push({ ...productToAdd, quantity: quantityToAdd });
                }

                saveCartToMemory();
                updateCartUI();
                openCart();
            }

            function removeFromCart(productId) {
                cart = cart.filter(item => item.id !== productId);
                saveCartToMemory();
                updateCartUI();
            }

            function updateQuantity(productId, newQuantity) {
                if (newQuantity <= 0) {
                    removeFromCart(productId);
                    return;
                }

                const itemToUpdate = cart.find(item => item.id === productId);
                if (!itemToUpdate) return;

                const currentQuantity = itemToUpdate.quantity;

                // Check if this is an Air Blade product (contains "Air Blade" in name)
                const isAirBlade = itemToUpdate.name.includes('Air Blade');

                if (isAirBlade) {
                    // Calculate total Air Blades across all colors
                    const totalAirBladesInCart = cart
                        .filter(item => item.name.includes('Air Blade'))
                        .reduce((sum, item) => sum + item.quantity, 0);

                    const difference = newQuantity - currentQuantity;

                    if (difference > 0 && totalAirBladesInCart >= 3) {
                        showWarningModal('Số lượng sản phẩm vượt quá giới hạn cho phép (tối đa 3 sản phẩm). Vui lòng đến cửa hàng để mua trực tiếp.');
                        return;
                    }
                }

                itemToUpdate.quantity = newQuantity;
                saveCartToMemory();
                updateCartUI();
            }

            function updateCartUI() {
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCounter.textContent = totalItems;

                if (totalItems > 0) {
                    cartCounter.style.display = 'flex';
                } else {
                    cartCounter.style.display = 'none';
                }

                // Update cart modal content
                if (cart.length === 0) {
                    fullCartItems.innerHTML = `
            <div class="text-center py-8 text-gray-500">
                <i class="fas fa-shopping-cart" style="font-size: 4rem; opacity: 0.3; margin-bottom: 1rem;"></i>
                <p>Giỏ hàng của bạn đang trống</p>
            </div>
        `;
                } else {
                    fullCartItems.innerHTML = cart.map(item => `
            <div class="cart-item" style="display: flex; align-items: center; margin-bottom: 15px; padding: 10px; border: 1px solid #eee; border-radius: 8px;">
                <img src="${item.image}" alt="${item.name}" style="width: 80px; height: 80px; object-fit: cover; border-radius: 5px;">
                <div style="flex: 1; margin-left: 15px;">
                    <h4 style="margin: 0 0 5px 0; font-size: 16px;">${item.name}</h4>
                    <p style="margin: 0 0 3px 0; color: #666; font-size: 14px;">Màu: ${item.color}</p>
                    <p style="margin: 0; color: #de0000; font-weight: bold;">${item.price.toLocaleString()} VNĐ</p>
                </div>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <button onclick="window.updateQuantity('${item.id}', ${item.quantity - 1})" style="background: #f0f0f0; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer;">-</button>
                    <span style="font-weight: bold; min-width: 30px; text-align: center;">${item.quantity}</span>
                    <button onclick="window.updateQuantity('${item.id}', ${item.quantity + 1})" style="background: #f0f0f0; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer;">+</button>
                    <button onclick="window.removeFromCart('${item.id}')" style="background: #ff4444; color: white; border: none; padding: 5px 8px; border-radius: 3px; cursor: pointer; margin-left: 10px;">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
        `).join('');
                }

                // Update total
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                modalTotalAmount.textContent = total.toLocaleString() + ' VNĐ';
            }

            // Expose functions to global scope for inline onclick handlers
            window.updateQuantity = updateQuantity;
            window.removeFromCart = removeFromCart;
            window.closeModal = closeModal;

            // Event Listeners
            specTab.addEventListener('click', () => showTab(specTab, specContent));
            galleryTab.addEventListener('click', () => showTab(galleryTab, galleryContent));

            cartBtn.addEventListener('click', openCart);
            const closeCartModalBtn = document.querySelector('.close-cart-modal');
            const continueShoppingBtn = document.querySelector('.btn-continue-shopping');

            if (closeCartModalBtn) {
                closeCartModalBtn.addEventListener('click', closeCart);
            }

            if (continueShoppingBtn) {
                continueShoppingBtn.addEventListener('click', () => {
                    window.location.href = 'product.html';
                });
            }

            cartModal.addEventListener('click', (e) => {
                if (e.target === cartModal) {
                    closeCart();
                }
            });

            addToCartBtn.addEventListener('click', addToCart);
            mobileMenuToggle.addEventListener('click', openMobileMenu);
            mobileNavClose.addEventListener('click', closeMobileMenu);
            mobileNavOverlay.addEventListener('click', closeMobileMenu);
            galleryImages.forEach(image => image.addEventListener('click', () => openModal(image.src)));
            colorSelector.addEventListener('click', (e) => {
                if (e.target.classList.contains('color-swatch')) {
                    selectColor(e.target.dataset.color);
                }
            });
            increaseQtyBtn.addEventListener('click', () => quantityInput.value = parseInt(quantityInput.value) + 1);
            decreaseQtyBtn.addEventListener('click', () => quantityInput.value = Math.max(1, parseInt(quantityInput.value) - 1));
            closeWarningModalBtn.addEventListener('click', closeWarningModal);
            warningModal.addEventListener('click', (e) => { if (e.target === warningModal) closeWarningModal() });

            // Initializations
            showTab(specTab, specContent);
            renderColorSwatches();

            // Migrate old localStorage data to cookies if exists
            const oldCartData = localStorage.getItem('hondaCart');
            if (oldCartData && cart.length === 0) {
                try {
                    const oldCart = JSON.parse(oldCartData);
                    if (Array.isArray(oldCart) && oldCart.length > 0) {
                        cart = oldCart;
                        saveCartToMemory();
                        localStorage.removeItem('hondaCart'); // Clean up old data
                    }
                } catch (error) {
                    console.log('Could not migrate old cart data');
                }
            }

            updateCartUI();
        });
    </script>
</body>

</html>