<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Honda Vario 125 - Chi Tiết Sản Phẩm</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to bottom, #f9fafb, #e9ecef);
            color: #393939;
        }

        .text-honda-red {
            color: #de0000;
        }

        .bg-honda-red {
            background-color: #de0000;
        }

        /* === HEADER STYLES === */
        .main-header {
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            width: 100%;
        }

        .header-container {
            max-width: 1280px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            font-size: 1.5rem;
            color: #393939;
            text-decoration: none;
        }


        .logo img {
            height: 53px;
        }

        .main-nav {
            display: flex;
        }

        .main-nav ul {
            display: flex;
            gap: 30px;
            list-style: none;
            margin: 0;
            padding: 0;
            align-items: center;
        }

        .main-nav a {
            text-decoration: none;
            color: #393939;
            font-weight: 500;
            position: relative;
            padding: 8px 4px;
            transition: color 0.3s ease;
            font-size: 16px;
        }

        .main-nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            background-color: #de0000;
            transition: width 0.3s ease;
        }

        .main-nav a:hover {
            color: #de0000;
        }

        .main-nav a:hover::after {
            width: 100%;
        }

        .header-icons {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .search-icon,
        .cart-icon {
            color: #393939;
            font-size: 20px;
            cursor: pointer;
            transition: color 0.3s ease;
            position: relative;
        }

        .search-icon:hover,
        .cart-icon:hover {
            color: #de0000;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: #de0000;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.7rem;
            min-width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Mobile Menu Styles */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #393939;
        }

        .mobile-nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }

        .mobile-nav {
            position: fixed;
            top: 0;
            left: -300px;
            width: 250px;
            height: 100%;
            background-color: #fff;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);
            transition: left 0.3s ease;
            z-index: 1000;
            display: none;
        }

        .mobile-nav.open {
            left: 0;
        }

        .mobile-nav-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
        }

        .mobile-nav-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #393939;
        }

        .mobile-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .mobile-nav li a {
            display: block;
            padding: 1rem;
            text-decoration: none;
            color: #393939;
            border-bottom: 1px solid #eee;
        }

        @media (max-width: 768px) {
            .main-nav {
                display: none;
            }

            .mobile-menu-toggle,
            .mobile-nav {
                display: block;
            }

            .header-container {
                justify-content: space-between;
            }

            .header-icons {
                gap: 15px;
            }
        }

        .avatar-circle {
            width: 55px;
            border-radius: 82%;
            object-fit: cover;
            border: 2px solid #ddd;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* === ORIGINAL PAGE STYLES === */
        .tab-button.active {
            border-bottom: 3px solid #dc2626;
            color: #dc2626;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 50;
        }

        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
        }

        .modal-content img {
            display: block;
            margin: auto;
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        footer {
            background: linear-gradient(135deg, #333333, #34495e);
            color: white;
            padding: 60px 0 20px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-col h3 {
            color: #de0000;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .footer-col {
            margin-left: 50px;
        }

        .footer-col p,
        .footer-col ul li a {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.8;
            transition: color 0.3s;
        }

        .footer-col ul li a:hover {
            color: white;
        }

        .social-links a {
            color: white;
            margin-right: 15px;
            font-size: 1.5rem;
            transition: color 0.3s;
        }

        .social-links a:hover {
            color: #de0000;
        }

        .copyright {
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 20px;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }

        .modal-close:hover,
        .modal-close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }

        /* Cart modal styles */
        .cart-modal {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background: white;
            z-index: 60;
            transition: right 0.3s ease-in-out;
            box-shadow: -5px 0 20px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
        }

        .cart-modal.open {
            right: 0;
        }

        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 55;
            display: none;
        }

        .cart-overlay.show {
            display: block;
        }

        .gallery-item {
            height: 200px;
            object-fit: cover;
            width: 100%;
        }

        /* === NEW STYLES FOR COLOR SWATCHES & ALERT === */
        .color-swatch {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        .color-swatch.active {
            border-color: #3b82f6;
            /* Blue-500 */
            transform: scale(1.1);
            box-shadow: 0 0 0 2px white, 0 0 0 4px #3b82f6;
        }

        #custom-alert {
            position: fixed;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #fefcbf;
            /* yellow-100 */
            color: #b45309;
            /* amber-700 */
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            border: 1px solid #fde047;
            /* yellow-400 */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease-in-out, top 0.3s ease-in-out;
            display: none;
        }
    </style>
</head>

<body>
    <!-- HEADER -->
    <header class="main-header">
        <div class="header-container">
            <a href="#" class="logo">
                <img src="image/logo.png" alt="Logo" class="avatar-circle">
                <span>AnhEm Motor</span>
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="#">Trang Chủ</a></li>
                    <li><a href="#">Sản Phẩm</a></li>
                    <li><a href="#">Giới Thiệu</a></li>
                    <li><a href="#">Tin Tức-Sự Kiện</a></li>
                    <li><a href="#">Khuyến Mãi</a></li>
                    <li><a href="#">Liên Hệ</a></li>
                    <li><a href="#">Dịch Vụ</a></li>
                </ul>
            </nav>
            <div class="header-icons">
                <i class="fa-solid fa-magnifying-glass search-icon"></i>
                <div class="cart-icon" id="cart-btn">
                    <i class="fa-solid fa-shopping-cart"></i>
                    <span id="cart-counter" class="cart-count hidden">0</span>
                </div>
                <button class="mobile-menu-toggle">
                    <i class="fa-solid fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <div class="mobile-nav-overlay"></div>
    <nav class="mobile-nav">
        <div class="mobile-nav-header">
            <span>Menu</span>
            <button class="mobile-nav-close"><i class="fa-solid fa-times"></i></button>
        </div>
        <ul>
            <li><a href="#">Trang Chủ</a></li>
            <li><a href="#">Sản Phẩm</a></li>
            <li><a href="#">Giới Thiệu</a></li>
            <li><a href="#">Tin Tức-Sự Kiện</a></li>
            <li><a href="#">Khuyến Mãi</a></li>
            <li><a href="#">Liên Hệ</a></li>
            <li><a href="#">Dịch Vụ</a></li>
        </ul>
    </nav>

    <header class="bg-white shadow-md sticky top-0 z-10">
        <div class="max-w-6xl mx-auto flex items-center justify-between px-6 py-4">
            <a href="#" class="flex items-center text-gray-700 hover:text-red-600 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd"
                        d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"
                        clip-rule="evenodd" />
                </svg>
                Quay lại trang sản phẩm
            </a>
            <h1 class="text-lg font-bold text-gray-800 hidden md:block">Chi Tiết Sản Phẩm</h1>
        </div>
    </header>


    <main class="max-w-6xl mx-auto px-4 py-10">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-start">
            <!-- PHẦN HÌNH ẢNH VÀ CHỌN MÀU -->
            <div class="flex flex-col items-center">
                <img id="main-product-image" src="moto/vario125.png" alt="Honda Vario 125"
                    class="rounded-2xl shadow-xl w-full max-w-lg mb-6">
                <!-- CÁC Ô CHỌN MÀU -->
                <div id="color-selector" class="flex items-center space-x-4 p-2 bg-gray-100 rounded-full">
                    <button class="color-swatch active" data-color="Đỏ" data-image="moto/vario125.png"
                        style="background-color: #de0000;"></button>
                    <button class="color-swatch" data-color="Xanh"
                        data-image="https://cdn.honda.com.vn/motorbike-versions/Image360/October2024/1729580777/2.png"
                        style="background-color: #005A9C;"></button>

                    <button class="color-swatch" data-color="Trắng"
                        data-image="https://product.hstatic.net/200000560101/product/img_6585_1ed66230a2a14e1da8f4fd415b9d622f.png"
                        style="background-color: #f3f4f6; border: 1px solid #d1d5db;"></button>
                </div>
            </div>

            <!-- PHẦN THÔNG TIN SẢN PHẨM -->
            <div class="bg-white rounded-2xl shadow-lg p-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-3">Honda Vario 125</h2>
                <p class="text-gray-500 text-lg mb-5">Phong cách adventure, vượt mọi giới hạn.</p>
                <div class="mb-6">
                    <span class="text-4xl font-extrabold text-red-600">40.735.637 VNĐ</span>
                </div>
                <p class="text-gray-700 leading-relaxed mb-6">
                    Honda Vario 125 là mẫu xe tay ga thể thao cỡ trung, nổi bật với thiết kế năng động và hiện đại. Xe
                    trang bị động cơ 125cc eSP tiết kiệm nhiên liệu, vận hành êm ái, cùng các tiện ích như hệ thống đèn
                    LED, mặt đồng hồ kỹ thuật số và cốp xe rộng, mang lại trải nghiệm tiện lợi và phong cách cho người
                    dùng đô thị.
                </p>
                <button id="add-to-cart-btn"
                    class="block w-full text-center bg-red-600 text-white font-bold py-3 rounded-xl shadow-md hover:bg-red-700 transition">
                    Đặt hàng ngay
                </button>
            </div>
        </div>

        <!-- PHẦN TABS -->
        <div class="mt-12 bg-white rounded-2xl shadow-lg p-8">
            <div class="flex border-b mb-6">
                <button id="spec-tab" class="tab-button active px-6 py-3 font-semibold text-gray-600">Thông số kỹ
                    thuật</button>
                <button id="gallery-tab" class="tab-button px-6 py-3 font-semibold text-gray-600">Bộ sưu tập</button>
            </div>

            <div id="spec-content" class="tab-content active">
                <div class="overflow-x-auto">
                    <table class="min-w-full border-collapse">
                        <tbody>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Khối lượng bản thân</th>
                                <td class="py-3">113 kg</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Kích thước (Dài x Rộng x Cao)
                                </th>
                                <td class="py-3">1.918 mm x 679 mm x 1.066 mm</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Khoảng cách trục bánh xe</th>
                                <td class="py-3">1.280 mm</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Độ cao yên</th>
                                <td class="py-3">769 mm</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Khoảng sáng gầm xe</th>
                                <td class="py-3">131 mm</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Dung tích bình xăng</th>
                                <td class="py-3">5,5 lít</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Kích cỡ lốp trước/sau</th>
                                <td class="py-3">Trước: 90/80 - 14M/C 43P <br> Sau: 100/80 - 14M/C 48P</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Phuộc trước</th>
                                <td class="py-3">Ống lồng, giảm chấn thủy lực</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Phuộc sau</th>
                                <td class="py-3">Lò xo trụ đơn, giảm chấn thủy lực</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Loại động cơ</th>
                                <td class="py-3">4 kỳ, 1 xi lanh, làm mát bằng chất lỏng</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Công suất tối đa</th>
                                <td class="py-3">8,19 kW / 8.500 vòng/phút</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Dung tích nhớt máy</th>
                                <td class="py-3">Xả: 0,8 lít <br> Tháo rã: 0,9 lít <br> Thay lọc dầu: 0,8 lít</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Mức tiêu thụ nhiên liệu</th>
                                <td class="py-3">2,16 lít/100km</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Hệ thống khởi động</th>
                                <td class="py-3">Điện</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Moment cực đại</th>
                                <td class="py-3">10,79 Nm / 5.000 vòng/phút</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Dung tích xy-lanh</th>
                                <td class="py-3">125 cm³</td>
                            </tr>
                            <tr class="border-b">
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Đường kính x Hành trình piston
                                </th>
                                <td class="py-3">52,4 mm x 57,9 mm</td>
                            </tr>
                            <tr>
                                <th class="text-left py-3 pr-6 font-medium text-gray-500">Tỷ số nén</th>
                                <td class="py-3">11,0 : 1</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="gallery-content" class="tab-content">
                <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
                    <img src="moto/Vario/1.png"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 1">
                    <img src="moto/Vario/2.png"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 2">
                    <img src="moto/Vario/3.png"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 3">
                    <img src="moto/Vario/4.jpg"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 4">
                    <img src="moto/Vario/5.png"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 5">
                    <img src="moto/Vario/6.png"
                        class="gallery-item rounded-lg shadow-md hover:scale-105 transition-transform duration-300 cursor-pointer"
                        alt="Hình ảnh 6">
                </div>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer>
        <div class="container mx-auto px-4">
            <div class="footer-content">
                <div class="footer-col">
                    <h3>Thông Tin Liên Hệ</h3>
                    <p><i class="fas fa-map-marker-alt"></i> 193 Đỗ Văn Thi, Phường Hiệp Hòa, TP. Biên Hòa, Tỉnh Đồng
                        Nai</p>
                    <p><i class="fas fa-phone"></i> 012 3456 7890</p>
                    <p><i class="fas fa-envelope"></i> anhemmotor@gmail.com</p>
                    <div class="social-links mt-4">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Sản Phẩm</h3>
                    <ul>
                        <li><a href="#">Xe máy Honda</a></li>
                        <li><a href="#">Xe máy Yamaha</a></li>
                        <li><a href="#">Xe máy Suzuki</a></li>
                        <li><a href="#">Xe máy Kawasaki</a></li>
                        <li><a href="#">Phụ kiện xe máy</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Dịch Vụ</h3>
                    <ul>
                        <li><a href="#">Bảo dưỡng định kỳ</a></li>
                        <li><a href="#">Sửa chữa xe máy</a></li>
                        <li><a href="#">Đăng ký xe</a></li>
                        <li><a href="#">Bảo hiểm xe máy</a></li>
                        <li><a href="#">Tư vấn mua xe</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Hỗ Trợ</h3>
                    <ul>
                        <li><a href="#">Chính sách bảo hành</a></li>
                        <li><a href="#">Hướng dẫn sử dụng</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Liên hệ hỗ trợ</a></li>
                        <li><a href="#">Sitemap</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>© 2025 AnhEm Motor. Mọi quyền được bảo lưu. | Thiết kế bởi AnhEm Team</p>
            </div>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div id="cart-overlay" class="cart-overlay"></div>
    <div id="cart-modal" class="cart-modal">
        <div class="p-6 border-b flex justify-between items-center">
            <h2 class="text-xl font-bold">Giỏ hàng</h2>
            <button id="close-cart" class="text-gray-500 hover:text-gray-700">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>
        </div>
        <div id="cart-items" class="flex-1 overflow-y-auto p-6"></div>
        <div class="border-t p-6">
            <div class="flex justify-between items-center mb-4">
                <span class="text-lg font-semibold">Tổng cộng:</span>
                <span id="cart-total" class="text-xl font-bold text-red-600">0 VNĐ</span>
            </div>
            <button class="w-full bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition">Tiến
                hành thanh toán</button>
        </div>
    </div>

    <!-- Image Modal -->
    <div id="image-modal" class="modal" onclick="closeModal()">
        <span class="modal-close" onclick="closeModal(event)">&times;</span>
        <div class="modal-content"><img id="modal-image" src="" alt="Full size image"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // === CÁC BIẾN DOM ===
            const specTab = document.getElementById('spec-tab');
            const galleryTab = document.getElementById('gallery-tab');
            const specContent = document.getElementById('spec-content');
            const galleryContent = document.getElementById('gallery-content');
            const modal = document.getElementById('image-modal');
            const modalImage = document.getElementById('modal-image');
            const galleryImages = document.querySelectorAll('#gallery-content img');

            const cartBtn = document.getElementById('cart-btn');
            const cartModal = document.getElementById('cart-modal');
            const cartOverlay = document.getElementById('cart-overlay');
            const closeCartBtn = document.getElementById('close-cart');
            const addToCartBtn = document.getElementById('add-to-cart-btn');
            const cartCounter = document.getElementById('cart-counter');
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');

            const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
            const mobileNav = document.querySelector('.mobile-nav');
            const mobileNavOverlay = document.querySelector('.mobile-nav-overlay');
            const mobileNavClose = document.querySelector('.mobile-nav-close');

            const mainProductImage = document.getElementById('main-product-image');
            const colorSwatches = document.querySelectorAll('.color-swatch');

            // === STATE ===
            let cart = JSON.parse(localStorage.getItem('hondaCart')) || [];
            let selectedProduct = {
                id: 'Vario125',
                name: 'Honda Vario 125',
                price: 40735637,
                image: 'https://image-us.24h.com.vn/upload/4-2022/images/2022-12-16/Honda-Vario-125-2023-1-1671182229-873-width1200height800.jpg',
                color: 'Đỏ'
            };
            const MAX_QUANTITY = 3;

            // === CÁC HÀM XỬ LÝ ===

            // -- Mobile Menu --
            const openMobileMenu = () => {
                mobileNav.classList.add('open');
                mobileNavOverlay.style.display = 'block';
            };
            const closeMobileMenu = () => {
                mobileNav.classList.remove('open');
                mobileNavOverlay.style.display = 'none';
            };

            // -- Tab & Modal --
            const showTab = (tab, content) => {
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                tab.classList.add('active');
                content.classList.add('active');
            };
            const openModal = (imageSrc) => {
                modal.style.display = 'flex';
                modalImage.src = imageSrc;
            };
            const closeModal = (event) => {
                if (event) event.stopPropagation();
                modal.style.display = 'none';
            };

            // -- Cart Logic --
            const saveCart = () => localStorage.setItem('hondaCart', JSON.stringify(cart));

            const openCart = () => {
                cartModal.classList.add('open');
                cartOverlay.classList.add('show');
            };

            const closeCart = () => {
                cartModal.classList.remove('open');
                cartOverlay.classList.remove('show');
            };

            const showCustomAlert = (message) => {
                let alertBox = document.getElementById('custom-alert');
                if (!alertBox) {
                    alertBox = document.createElement('div');
                    alertBox.id = 'custom-alert';
                    document.body.appendChild(alertBox);
                }
                alertBox.textContent = message;
                alertBox.style.display = 'block';
                setTimeout(() => { alertBox.style.opacity = '1'; alertBox.style.top = '100px'; }, 10);
                setTimeout(() => {
                    alertBox.style.opacity = '0';
                    alertBox.style.top = '80px';
                    setTimeout(() => { alertBox.style.display = 'none'; }, 300);
                }, 3000);
            };

            const updateCartUI = () => {
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                if (totalItems > 0) {
                    cartCounter.textContent = totalItems;
                    cartCounter.classList.remove('hidden');
                } else {
                    cartCounter.classList.add('hidden');
                }

                if (cart.length === 0) {
                    cartItems.innerHTML = `<div class="text-center py-8 text-gray-500">
                        <svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5M17 13v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6"></path></svg>
                        <p>Giỏ hàng của bạn đang trống</p></div>`;
                } else {
                    cartItems.innerHTML = cart.map(item => `
                        <div class="flex items-center space-x-4 py-4 border-b">
                            <img src="${item.image}" alt="${item.name}" class="w-20 h-20 object-cover rounded-lg">
                            <div class="flex-1">
                                <h3 class="font-semibold text-sm">${item.name}</h3>
                                <p class="text-xs text-gray-500 capitalize">Màu: ${item.color}</p>
                                <p class="text-red-600 font-bold mt-1">${item.price.toLocaleString()} VNĐ</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button onclick="window.updateQuantity('${item.id}', '${item.color}', ${item.quantity - 1})" class="w-7 h-7 flex items-center justify-center bg-gray-200 rounded-full hover:bg-gray-300 transition">-</button>
                                <span class="w-8 text-center font-medium">${item.quantity}</span>
                                <button onclick="window.updateQuantity('${item.id}', '${item.color}', ${item.quantity + 1})" class="w-7 h-7 flex items-center justify-center bg-gray-200 rounded-full hover:bg-gray-300 transition">+</button>
                            </div>
                            <button onclick="window.removeFromCart('${item.id}', '${item.color}')" class="text-red-500 hover:text-red-700 transition">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                            </button>
                        </div>
                    `).join('');
                }

                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                cartTotal.textContent = total.toLocaleString() + ' VNĐ';
            };

            window.addToCart = (productToAdd) => {
                const totalQuantityInCart = cart.filter(item => item.id === productToAdd.id).reduce((sum, item) => sum + item.quantity, 0);

                if (totalQuantityInCart >= MAX_QUANTITY) {
                    showCustomAlert(`Số lượng tối đa là ${MAX_QUANTITY}. Vui lòng đến cửa hàng để mua trực tiếp.`);
                    return;
                }

                const existingItem = cart.find(item => item.id === productToAdd.id && item.color === productToAdd.color);

                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ ...productToAdd, quantity: 1 });
                }
                saveCart();
                updateCartUI();
                openCart();
            };

            window.removeFromCart = (productId, color) => {
                cart = cart.filter(item => !(item.id === productId && item.color === color));
                saveCart();
                updateCartUI();
            };

            window.updateQuantity = (productId, color, newQuantity) => {
                if (newQuantity <= 0) {
                    removeFromCart(productId, color);
                    return;
                }

                const itemToUpdate = cart.find(item => item.id === productId && item.color === color);
                const currentTotalQuantity = cart.filter(item => item.id === productId).reduce((sum, item) => sum + item.quantity, 0);
                const quantityChange = newQuantity - (itemToUpdate ? itemToUpdate.quantity : 0);

                if (currentTotalQuantity + quantityChange > MAX_QUANTITY) {
                    showCustomAlert(`Số lượng tối đa là ${MAX_QUANTITY}. Vui lòng đến cửa hàng để mua trực tiếp.`);
                    return;
                }

                if (itemToUpdate) {
                    itemToUpdate.quantity = newQuantity;
                    saveCart();
                    updateCartUI();
                }
            };

            // === EVENT LISTENERS ===
            mobileMenuToggle.addEventListener('click', openMobileMenu);
            mobileNavClose.addEventListener('click', closeMobileMenu);
            mobileNavOverlay.addEventListener('click', closeMobileMenu);

            specTab.addEventListener('click', () => showTab(specTab, specContent));
            galleryTab.addEventListener('click', () => showTab(galleryTab, galleryContent));

            galleryImages.forEach(image => {
                image.addEventListener('click', () => openModal(image.src));
            });

            cartBtn.addEventListener('click', openCart);
            closeCartBtn.addEventListener('click', closeCart);
            cartOverlay.addEventListener('click', closeCart);

            addToCartBtn.addEventListener('click', () => addToCart(selectedProduct));

            colorSwatches.forEach(swatch => {
                swatch.addEventListener('click', () => {
                    mainProductImage.src = swatch.dataset.image;
                    colorSwatches.forEach(s => s.classList.remove('active'));
                    swatch.classList.add('active');

                    selectedProduct.image = swatch.dataset.image;
                    selectedProduct.color = swatch.dataset.color;
                });
            });

            // === KHỞI TẠO ===
            showTab(specTab, specContent);
            updateCartUI();
        });
    </script>
</body>

</html>